{"level":"error","message":"here is the error crypto.randomBytes is not a function","stack":"TypeError: crypto.randomBytes is not a function\n    at Register (D:\\office\\citizen-community-service-credit\\Activity_backend\\controllers\\LoginController.js:155:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"here is the error Unknown column 'verified' in 'field list'","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `id`, `name`, `email`, `phone`, `password`, `photo`, `category`, `googleId`, `verificationToken`, `verified` FROM `users` AS `users` WHERE `users`.`email` = 'littlepalx42@gmail.com';","sqlMessage":"Unknown column 'verified' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `id`, `name`, `email`, `phone`, `password`, `photo`, `category`, `googleId`, `verificationToken`, `verified` FROM `users` AS `users` WHERE `users`.`email` = 'littlepalx42@gmail.com';","sqlMessage":"Unknown column 'verified' in 'field list'","sqlState":"42S22"},"sql":"SELECT `id`, `name`, `email`, `phone`, `password`, `photo`, `category`, `googleId`, `verificationToken`, `verified` FROM `users` AS `users` WHERE `users`.`email` = 'littlepalx42@gmail.com';","stack":"Error\n    at Query.run (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\sequelize.js:314:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async users.findAll (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1134:21)\n    at async users.findOne (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1228:12)\n    at async Register (D:\\office\\citizen-community-service-credit\\Activity_backend\\controllers\\LoginController.js:158:27)"}
{"level":"error","message":"here is the error Reduce of empty array with no initial value","stack":"TypeError: Reduce of empty array with no initial value\n    at Array.reduce (<anonymous>)\n    at Register (D:\\office\\citizen-community-service-credit\\Activity_backend\\controllers\\LoginController.js:197:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"here is the error WHERE parameter \"verificationToken\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"verificationToken\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1693:13)\n    at D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1684:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1682:35)\n    at MySQLQueryGenerator.getWhereConditions (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2025:19)\n    at MySQLQueryGenerator.selectQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:954:28)\n    at MySQLQueryInterface.select (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:59)\n    at users.findAll (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1134:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async users.findOne (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1228:12)"}
{"level":"error","message":"here is the error WHERE parameter \"verificationToken\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"verificationToken\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1693:13)\n    at D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1684:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1682:35)\n    at MySQLQueryGenerator.getWhereConditions (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2025:19)\n    at MySQLQueryGenerator.selectQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:954:28)\n    at MySQLQueryInterface.select (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:59)\n    at users.findAll (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1134:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async users.findOne (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1228:12)"}
{"level":"error","message":"here is the error WHERE parameter \"verificationToken\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"verificationToken\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1693:13)\n    at D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1684:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1682:35)\n    at MySQLQueryGenerator.getWhereConditions (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2025:19)\n    at MySQLQueryGenerator.selectQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:954:28)\n    at MySQLQueryInterface.select (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:59)\n    at users.findAll (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1134:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async users.findOne (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1228:12)"}
{"level":"error","message":"here is the error WHERE parameter \"verificationToken\" has invalid \"undefined\" value","stack":"Error: WHERE parameter \"verificationToken\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1693:13)\n    at D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1684:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1682:35)\n    at MySQLQueryGenerator.getWhereConditions (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2025:19)\n    at MySQLQueryGenerator.selectQuery (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:954:28)\n    at MySQLQueryInterface.select (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:59)\n    at users.findAll (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1134:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async users.findOne (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\sequelize\\lib\\model.js:1228:12)"}
{"level":"error","message":"here is the error Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at verify (D:\\office\\citizen-community-service-credit\\Activity_backend\\controllers\\LoginController.js:238:6)\n    at Layer.handle [as handle_request] (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\office\\citizen-community-service-credit\\Activity_backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error","message":"here is the error Cannot read properties of null (reading 'verified')","stack":"TypeError: Cannot read properties of null (reading 'verified')\n    at verify (D:\\office\\citizen-community-service-credit\\Activity_backend\\controllers\\LoginController.js:239:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Here is the error user.json is not a function","stack":"TypeError: user.json is not a function\n    at verifyPin (D:\\office\\citizen-community-service-credit\\Activity_backend\\controllers\\LoginController.js:311:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
